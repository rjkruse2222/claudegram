# ═══════════════════════════════════════════════════════════════
# Claudegram Configuration
# ═══════════════════════════════════════════════════════════════

# ── Core ──────────────────────────────────────────────────────
# Telegram bot token from @BotFather
TELEGRAM_BOT_TOKEN=your_telegram_bot_token

# Comma-separated Telegram user IDs allowed to use the bot
# Get yours by messaging @userinfobot on Telegram
ALLOWED_USER_IDS=123456789

# ── Claude ────────────────────────────────────────────────────
# Anthropic API key (optional — leave empty to use Claude Max subscription)
# ANTHROPIC_API_KEY=sk-ant-...

# Optional: explicit .env path (useful if you start the bot from another directory)
# CLAUDEGRAM_ENV_PATH=/absolute/path/to/claudegram/.env

# Path to the Claude Code CLI executable
# Default: "claude" (assumes it's in your PATH)
# CLAUDE_EXECUTABLE_PATH=/home/username/.local/bin/claude

# Use SDK bundled executable for agent queries (true/false)
# CLAUDE_USE_BUNDLED_EXECUTABLE=true

# SDK log level: off | basic | verbose | trace
# CLAUDE_SDK_LOG_LEVEL=verbose

# Include partial streaming events in SDK output (true/false)
# CLAUDE_SDK_INCLUDE_PARTIAL=false

# Append a safe reasoning summary to each response (true/false)
# CLAUDE_REASONING_SUMMARY=true

# Bot personality name used in the system prompt
# BOT_NAME=Claudegram

# Bot run mode (used by /restartbot and /botstatus)
# BOT_MODE=prod

# ── Workspace ─────────────────────────────────────────────────
# Root directory shown in /project picker
# Default: $HOME
# WORKSPACE_DIR=/home/username/projects

# ── Response Behavior ─────────────────────────────────────────
# "streaming" = live-updating messages, "wait" = send when complete
STREAMING_MODE=streaming

# Debounce interval (ms) for streaming message edits
STREAMING_DEBOUNCE_MS=500

# Max characters before switching to Telegraph for long responses
MAX_MESSAGE_LENGTH=4096

# ── Dangerous Mode ────────────────────────────────────────────
# Auto-approve all Claude tool permissions (use with caution!)
DANGEROUS_MODE=false

# Max iterations for /loop command
MAX_LOOP_ITERATIONS=5

# ── Reddit Integration ────────────────────────────────────────
# Requires: redditfetch.py (https://github.com/... your reddit tool)
# Leave empty to disable /reddit command

# Absolute path to redditfetch.py
REDDITFETCH_PATH=/path/to/redditfetch.py

# Execution timeout (ms)
REDDITFETCH_TIMEOUT_MS=30000

# Default --limit when not specified by user
REDDITFETCH_DEFAULT_LIMIT=10

# Default comment --depth for posts
REDDITFETCH_DEFAULT_DEPTH=5
# If markdown output exceeds this many characters, auto-save JSON instead
REDDITFETCH_JSON_THRESHOLD_CHARS=8000

# Reddit video: max size for /vreddit downloads
# REDDIT_VIDEO_MAX_SIZE_MB=50

# ── Medium / Freedium ─────────────────────────────────────────
# Fetches Medium articles via Freedium mirror (no Python/Playwright needed)

# Freedium mirror host (default: freedium-mirror.cfd)
# FREEDIUM_HOST=freedium-mirror.cfd

# Rate limit between Freedium requests (ms)
# FREEDIUM_RATE_LIMIT_MS=2000

# Fetch timeout (ms)
# MEDIUM_TIMEOUT_MS=15000

# If markdown exceeds this many chars, offer to save as file
# MEDIUM_FILE_THRESHOLD_CHARS=8000

# ── Voice Transcription (Groq Whisper) ────────────────────────
# Requires: groq_transcribe.py + Groq API key
# Leave empty to disable voice message support

# Groq API key for Whisper transcription
# GROQ_API_KEY=gsk_...

# Absolute path to groq_transcribe.py
GROQ_TRANSCRIBE_PATH=/path/to/groq_transcribe.py

# Show transcript text before agent response
VOICE_SHOW_TRANSCRIPT=true

# Max voice file size in MB (Telegram limit ~20MB)
VOICE_MAX_FILE_SIZE_MB=19

# Transcription language (ISO 639-1 code)
VOICE_LANGUAGE=en

# Transcription timeout (ms)
VOICE_TIMEOUT_MS=60000

# /transcribe: send .txt file if transcript exceeds this many characters
# TRANSCRIBE_FILE_THRESHOLD_CHARS=4000

# ── Text-to-Speech ───────────────────────────────────────────
# Toggle per-chat with /tts command

# TTS provider: "groq" (Groq Orpheus, default) or "openai" (OpenAI TTS)
# Groq reuses GROQ_API_KEY above; OpenAI requires OPENAI_API_KEY below
TTS_PROVIDER=groq

# OpenAI API key (only needed when TTS_PROVIDER=openai)
# OPENAI_API_KEY=sk-...

# OpenAI TTS model (only used with TTS_PROVIDER=openai):
# gpt-4o-mini-tts (newest, supports instructions), tts-1, tts-1-hd
TTS_MODEL=gpt-4o-mini-tts

# Voice name:
#   groq voices:   autumn, diana, hannah, austin, daniel, troy
#   openai voices: alloy, ash, ballad, coral, echo, fable, nova, onyx, sage, shimmer, verse, marin, cedar
# Default: troy (groq) or coral (openai)
TTS_VOICE=troy

# Tone instructions (gpt-4o-mini-tts only)
TTS_INSTRUCTIONS="Speak in a friendly, natural conversational tone."

# Speech speed (0.25 to 4.0)
TTS_SPEED=1.5

# Max characters to send to TTS (longer responses skip voice reply)
TTS_MAX_CHARS=4096

# Audio format: opus (recommended for Telegram voice notes), mp3, wav, flac, aac
TTS_RESPONSE_FORMAT=opus

# ── Media Extraction (/extract command) ──────────────────────────
# Extract text, audio, and video from YouTube, Instagram, and TikTok
# Requires: yt-dlp, ffmpeg, ffprobe (system binaries)

# Path to a Netscape-format cookies.txt file for yt-dlp
# Needed for age-restricted / mature TikTok content, private Instagram, etc.
# Export from browser using "Get cookies.txt LOCALLY" extension
# YTDLP_COOKIES_PATH=/home/username/.claudegram/cookies.txt

# Transcription timeout per chunk (ms) — increase for very long videos
# EXTRACT_TRANSCRIBE_TIMEOUT_MS=180000

# Image Uploads
# Max image file size in MB (Telegram limit ~20MB for downloads)
IMAGE_MAX_FILE_SIZE_MB=20
